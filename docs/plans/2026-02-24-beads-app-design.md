# 念珠 App — 產品設計文件

**日期**：2026-02-24
**狀態**：已批准

---

## 1. 產品概述

**App 名稱**：念珠
**副標題**：擬真佛珠 · 靜心修行
**Bundle ID**：com.firstfu.tw.beads
**目標平台**：iOS 18.2+（iPhone / iPad）
**價格**：完全免費，零廣告
**目標用戶**：華語佛教徒（淨土宗/禪宗為主）
**市場**：台灣、香港、大陸、東南亞華人

---

## 2. 市場分析摘要

### 競品分析（9 款主要競品）

| App | 評分 | 關鍵特點 | 主要弱點 |
|-----|------|---------|---------|
| 佛號計數器 | 4.8 | 反誤觸、iCloud | 無擬真佛珠 |
| 念佛助手 | 4.8 | 社群分享、目標 | 更新丟資料 |
| 佛珠-念佛助手 | 4.7 | 擬真佛珠、visionOS | 評分彈窗打斷修行 |
| MalaMode | 4.7 | 全螢幕點擊 | 小眾、多bug |
| 佛珠-念佛神器 | 4.6 | 擬真+震動 | 廣告太多、定價高 |

### 市場痛點

1. **誤觸重置計數** — 最致命的用戶痛點
2. **更新後資料遺失** — 長期修行者的噩夢
3. **修行中出現廣告** — 用戶最厭惡
4. **評分彈窗打斷禪修** — 破壞沉浸體驗
5. **UI 設計過時** — 所有競品都是 2015 年風格
6. **缺乏 Widget 支援** — 無法在主畫面追蹤進度

### 市場缺口

- 無 App 同時具備：極致擬真 + 觸感反饋 + 統計 + Widget + 內容平台
- 無 App 有現代化 Apple Design 品質的 UI
- 無 App 提供完善的 Widget / Lock Screen Widget
- 無 App 有遊戲化習慣機制（連續天數等）

---

## 3. 技術架構

### 技術棧

- **UI**：SwiftUI
- **3D 渲染**：SceneKit（PBR 材質、物理引擎）
- **資料持久化**：SwiftData
- **雲端同步**：CloudKit（可選）
- **音效**：AVFoundation
- **觸感**：Core Haptics
- **Widget**：WidgetKit
- **最低版本**：iOS 18.2

### 架構圖

```
┌─────────────────────────────────────────────┐
│                  SwiftUI Layer               │
│  ┌─────────┐  ┌──────────┐  ┌────────────┐  │
│  │ 佛珠視圖 │  │ 計數面板  │  │  設定/統計  │  │
│  └────┬────┘  └────┬─────┘  └─────┬──────┘  │
│       │            │              │          │
│  ┌────┴────────────┴──────────────┴──────┐  │
│  │          ViewModel Layer              │  │
│  │  BeadViewModel / StatsViewModel       │  │
│  └────┬──────────────┬───────────────────┘  │
│       │              │                      │
│  ┌────┴────┐    ┌────┴─────────────────┐    │
│  │SceneKit │    │   SwiftData Layer    │    │
│  │ 3D 渲染  │    │  PracticeSession     │    │
│  │ 物理引擎  │    │  DailyRecord         │    │
│  │ PBR 材質  │    │  BeadStyle           │    │
│  └─────────┘    │  Mantra              │    │
│                 │  UserSettings         │    │
│  ┌───────────┐  └──────────────────────┘    │
│  │AudioEngine│                              │
│  │ 背景音樂   │  ┌──────────┐  ┌──────────┐  │
│  │ 互動音效   │  │  Widget   │  │ Haptics  │  │
│  │ 音量混合   │  │ Extension │  │ Engine   │  │
│  └───────────┘  └──────────┘  └──────────┘  │
└─────────────────────────────────────────────┘
```

### Data Models（SwiftData）

- **PracticeSession** — 單次修行記錄（開始/結束時間、計數、佛號名稱、時長）
- **DailyRecord** — 每日匯總（日期、總計數、修行時長、修行次數）
- **BeadStyle** — 佛珠樣式（名稱、材質類型、紋理資源路徑）
- **Mantra** — 佛號/咒語（名稱、原文、拼音、音頻路徑、說明）
- **AmbientSound** — 背景音效（名稱、類型、音頻路徑、時長）
- **UserSettings** — 用戶設定（當前佛珠樣式、每圈珠數、音效/震動/背景音樂開關與音量）

---

## 4. UI/UX 設計

### 頁面結構（4 Tab）

1. **修行**（核心）— 全螢幕 3D 佛珠場景
2. **記錄** — 統計圖表、修行日曆
3. **經藏** — 佛號/咒語庫、經文閱讀、修行教學
4. **設定** — 佛珠樣式、音效、同步

### 修行主畫面

```
┌──────────────────────────────────┐
│  ← 佛號名稱  ⚙️  🔊              │  ← 頂部工具列（半透明）
│                                  │
│         第 3 圈                   │  ← 圈數顯示
│        ╭─────╮                   │
│      ╭─○─○─○─○─╮                │
│     ○               ○            │  ← 3D 佛珠串
│     ○    1,247      ○            │     （環形排列）
│     ○   總計數       ○            │     中間顯示累計數
│      ○              ○            │
│       ╰─○─○─●─○─╯               │  ← ● = 當前珠位
│         ╰─────╯                  │
│                                  │
│   南無阿彌陀佛                     │  ← 當前佛號文字
│                                  │
│  ┌─ 今日：324 ─┬─ 🔥 7天 ─┐      │  ← 底部狀態列
└──┴─────────────┴──────────┴──────┘
```

### 互動設計

- **撥珠方式**：由下往上滑動（模擬真實撥珠手勢）
- **物理模擬**：被撥動的珠子先加速滑動，然後減速停在下一位（慣性物理）
- **觸感反饋**：每顆珠 → 輕微 Haptic；滿圈 → 強烈 Haptic
- **音效**：珠子碰撞 → 清脆木質聲；背景 → 用戶選擇的梵唄/自然音
- **防誤觸**：長按 3 秒才能重置計數，重置前需確認對話框
- **螢幕常亮**：修行模式下自動保持螢幕不休眠

### 佛珠材質（初版 5 種）

1. **小葉紫檀** — 深紅棕色，油潤木紋
2. **菩提子** — 米白色，天然紋路
3. **星月菩提** — 黃白色，星點紋理
4. **黃花梨** — 金黃色，虎皮紋
5. **琥珀蜜蠟** — 半透明琥珀色，溫潤光澤

### Widget 設計

- **小尺寸**：今日計數 + 連續天數
- **中尺寸**：今日計數 + 本週柱狀圖 + 連續天數
- **鎖屏 Widget**：今日計數數字

---

## 5. 內容平台 — 經藏系統

### 佛號/咒語庫

**淨土宗**：
- 南無阿彌陀佛（核心）
- 南無觀世音菩薩
- 南無地藏王菩薩
- 南無藥師琉璃光如來

**常用咒語**：
- 大悲咒（84句）
- 六字大明咒（嗡嘛呢唄美吽）
- 往生咒
- 藥師灌頂真言
- 準提神咒

**禪宗**：
- 自定義持名（用戶自行輸入）

### 每條內容包含
- 原文（正體中文）
- 拼音/注音標注
- 簡要說明（修持功德、來源經典）
- 建議計數目標（108、1080、10000）

### 經文閱讀區
- 心經、阿彌陀經、大悲咒全文、普門品
- 支援直式排版（傳統閱讀體驗）
- 可調字體大小

### 修行教學
- 如何正確持珠（圖文教學）
- 各宗派念佛方法介紹
- 計數修行的意義與功德
- 初學者入門指引

---

## 6. 反誤觸與資料安全

### 反誤觸設計（四重保護）
1. **無減少/清除按鈕** — 介面上不存在任何可能減少計數的按鈕
2. **重置需長按 3 秒 + 確認對話框** — 雙重保護
3. **撤銷功能** — 最近 5 次操作可撤銷（搖一搖撤銷）
4. **修行中鎖定** — 修行模式下只有撥珠手勢有效

### 資料安全
1. **SwiftData 本地存儲** — 資料預設存在設備上
2. **iCloud 同步**（可選）— CloudKit 同步修行記錄
3. **自動備份** — 每次修行結束自動保存
4. **版本升級安全** — SwiftData migration 策略確保更新不丟資料

---

## 7. 差異化策略

| 差異點 | 念珠 App | 競品最佳 |
|--------|---------|---------|
| 3D 擬真度 | 極致 PBR 渲染，5 種真實材質 | 中等（2D 或簡單 3D） |
| 滑動撥珠 | 物理慣性模擬 | 簡單位移動畫 |
| 觸感反饋 | 逐顆精細 Haptic | 基本或無 |
| 背景音樂 | 梵唄+自然音+寺廟聲 | 少數有基本音效 |
| 反誤觸 | 四重保護機制 | 1-2 種保護 |
| 內容深度 | 經文庫+注音+教學 | 有限或無 |
| Widget | 小/中/鎖屏三種 | 無 |
| 統計圖表 | 熱力圖+趨勢圖+連續天數 | 基本數字 |
| 設計品質 | 現代 Apple Design 品質 | 2015 年風格 |
| 價格 | 完全免費，零廣告 | 免費或有廣告 |

---

## 8. 背景音樂系統

### 音樂類型
- **梵唄音樂**：佛教傳統唱誦背景
- **寺廟環境音**：鐘聲、木魚、風鈴
- **自然環境音**：流水、鳥鳴、風聲、雨聲

### 技術實現
- AVFoundation 音頻播放
- 背景音樂 + 互動音效分層混合
- 各層獨立音量控制
- 支援背景播放（鎖屏繼續）
- 音頻淡入淡出轉場
